getstaffdetail(workspceid, siteid) - Pass
getstaffdetailbyservice(workspceid, siteid, serviceid) - Pass

getservice(workspceid, siteid) - Pass
getservicedetailbystaff(workspceid, siteid, staffid) - Pass

getbookingdetail(site,bookingid,workspaceid) - Pass

getLocationByStaffId()- (workspceid, siteid, staffid) - Pass
getLocationByServiceId()- (workspceid, siteid, serviceid) - Pass

getstaffDateDetail() filterby available- leavedetail exclude
getslotdeatail() - settings

basedon email-> create or link booking

//Sample
db.getCollection('events').find({
  workspace_ids: ObjectId("61261b5ba97d172becfc0988"), 
  site_id:ObjectId("60ec2ecc1fb0c42560fbf5d2"), 
  staff_ids:ObjectId("60f7c8e0fe41c636781746c0")
  })

# date logic should be , 3 different function , 

getDate(siteid,workspaceid,staffid,service id),
getDate(siteid,workspaceid,service id),
getDate(siteid,workspaceid,staffid) 

based on that slot would be generate

#
slot please check in setting collection  "client_time_slot" : 30,

slot you have to provide like this "booking_date":

"slot":[
{
     "no":1,
	 "start_time":"",
	 "end_time":"",
	 "available":true,
	 }
	 }

----------------------------------------------------------------
Prabha - Data : 
query {
  getAvailabilityByStaff(
    workspace_id: "611ba08d7dbdecf4c47091db"
    site_id: "60e2eead5a12d07c2bef058c"
    staff_ids: "612ee8133b64c2a30642557a"
    event: [""]
    date: "2021-09-17"
  ) {
    start_date
    end_date
    pre_booking_day
    selectedDate
    available_date
    disable_date
    selectedDate
    dayStartTime
    dayEndTime
    locationAvailable {
      _id
      type
    }
    availableTimes {
      slot
      slotStartTime
      slotEndTime
      isBooking
    }
  }
}
------

Basheer - Data : 
query {
  getAvailabilityByStaff(
    workspace_id: "61409a3502909b25faa6c3b2"
    site_id: "613a462aa3a6447e678a40d8"
    staff_ids: "613a462aa3a6447e678a40d7"
    event: [""]
    date: "2021-09-20"
  ) {
    start_date
    end_date
    pre_booking_day
    selectedDate
    available_date
    disable_date
    selectedDate
    dayStartTime
    dayEndTime
    locationAvailable {
      _id
      type
    }
    availableTimes {
      slot
      slotStartTime
      slotEndTime
      isBooking
    }
  }
}

